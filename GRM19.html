<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            padding: 10px 30px;
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0"></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass">
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="notifyText">Sorry, please try again.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/pbkdf2.js"></script>
    <script>
        /*! srcdoc-polyfill - v0.1.1 - 2013-03-01
        * http://github.com/jugglinmike/srcdoc-polyfill/
        * Copyright (c) 2013 Mike Pennisi; Licensed MIT */
        (function( window, document, undefined ) {
	
	        var idx, iframes;
	        var _srcDoc = window.srcDoc;
	        var isCompliant = !!("srcdoc" in document.createElement("iframe"));
	        var implementations = {
		        compliant: function( iframe, content ) {

			        if (content) {
				        iframe.setAttribute("srcdoc", content);
			        }
		        },
		        legacy: function( iframe, content ) {

			        var jsUrl;

			        if (!iframe || !iframe.getAttribute) {
				        return;
			        }

			        if (!content) {
				        content = iframe.getAttribute("srcdoc");
			        } else {
				        iframe.setAttribute("srcdoc", content);
			        }

			        if (content) {
				        // The value returned by a script-targeted URL will be used as
				        // the iFrame's content. Create such a URL which returns the
				        // iFrame element's `srcdoc` attribute.
				        jsUrl = "javascript: window.frameElement.getAttribute('srcdoc');";

				        iframe.setAttribute("src", jsUrl);

				        // Explicitly set the iFrame's window.location for
				        // compatability with IE9, which does not react to changes in
				        // the `src` attribute when it is a `javascript:` URL, for
				        // some reason
				        if (iframe.contentWindow) {
					        iframe.contentWindow.location = jsUrl;
				        }
			        }
		        }
	        };
	        var srcDoc = window.srcDoc = {
		        // Assume the best
		        set: implementations.compliant,
		        noConflict: function() {
			        window.srcDoc = _srcDoc;
			        return srcDoc;
		        }
	        };

	        // If the browser supports srcdoc, no shimming is necessary
	        if (isCompliant) {
		        return;
	        }

	        srcDoc.set = implementations.legacy;

	        // Automatically shim any iframes already present in the document
	        iframes = document.getElementsByTagName("iframe");
	        idx = iframes.length;

	        while (idx--) {
		        srcDoc.set( iframes[idx] );
	        }

        }( this, this.document ));
    </script>
    <script>
        var pl = {"salt":"xZx1qdB4Rli9WydRsUYtuOrYH838/NVOs6BpS+Dp1V8=","iv":"zhRrOiweHgX6fMIwo7sQ6w==","data":"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"};
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
        }
        
        function doSubmit(evt) {
            try {
                var decrypted = decryptFile(CryptoJS.enc.Base64.parse(pl.data), passEl.value, CryptoJS.enc.Base64.parse(pl.salt), CryptoJS.enc.Base64.parse(pl.iv));
                if (decrypted === "") throw "No data returned";
                
                // Set default iframe link targets to _top so all links break out of the iframe
                decrypted = decrypted.replace("<head>", "<head><base href=\".\" target=\"_top\">");
                
                srcDoc.set(contentFrame, decrypted);
                
                successEl.style.display = "inline";
                passEl.disabled = true;
                submitPass.disabled = true;
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
        
        function decryptFile(contents, password, salt, iv) {
            var _cp = CryptoJS.lib.CipherParams.create({
                ciphertext: contents
            });
            var key = CryptoJS.PBKDF2(password, salt, { keySize: 256/32, iterations: 100 });
            var decrypted = CryptoJS.AES.decrypt(_cp, key, {iv: iv});
            
            return decrypted.toString(CryptoJS.enc.Utf8);
        }
    </script>
  </body>
</html>
